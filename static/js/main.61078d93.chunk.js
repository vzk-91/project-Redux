(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{46:function(e,t,r){e.exports=r(68)},51:function(e,t,r){},53:function(e,t,r){},54:function(e,t,r){},55:function(e,t,r){},56:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},63:function(e,t,r){},64:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(12),c=r.n(o),i=(r(51),r(21)),l=r(45),s=r(6);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={blogers:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Fetch_Blogers":return p({},e,{blogers:Object(l.a)(t.payload)});default:return e}};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={loginData:{password:"",email:""},id:""},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login":return h({},e,{loginData:t.payload});case"LOGOUT":return h({},e,{id:""});default:return e}};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={registrationData:{lastname:"",username:"",password:"",email:""}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Registration":return b({},e,{registrationData:t.payload});default:return e}};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={name:"",newPost:{description:"",title:""},modalShow:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Modal_Show":return w({},e,{modalShow:!0});case"Modal_Hide":return w({},e,{modalShow:!1});case"GetName":return w({},e,{name:t.payload});case"New_Post":return w({},e,{newPost:t.payload});default:return e}};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={loading:!0},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Spinner":return S({},e,{loading:!1});default:return e}};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={id:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ID":return L({},e,{id:t.payload});default:return e}};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={posts:[{author:"",id:"",description:"",title:""}]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Fetch_Posts":return G({},e,{posts:t.payload});default:return e}},J=Object(i.a)({blogers:f,posts:F,loginPage:O,registrationPage:E,workspacePage:k,spinner:N,userID:T}),U=Object(i.b)(J),H=U.getState(),A=a.a.createContext(H),M=(r(53),r(70)),R=r(15),W=r(18),Y=function(){function e(){Object(R.a)(this,e)}return Object(W.a)(e,null,[{key:"set",value:function(e,t){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(n){throw new Error(n.message)}}},{key:"get",value:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)||null}catch(r){throw new Error(r.message)}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(t){throw new Error(t.message)}}}]),e}(),$=function(){function e(){Object(R.a)(this,e)}return Object(W.a)(e,[{key:"getPeople",value:function(){return fetch("https://5d8e0901370f02001405c7c9.mockapi.io/api/v1/postblog/users").then((function(e){return e.json()}))}},{key:"login",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/people/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"registration",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/people",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"byId",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/people/".concat(e)).then((function(e){return e.json()}))}},{key:"logOut",value:function(e){return fetch('"https://it-blog-posts.herokuapp.com/api/people/logout?access_token='.concat(e),{method:"POST",headers:{"Content-Type":"application/json"}})}}]),e}(),q=function(){function e(){Object(R.a)(this,e)}return Object(W.a)(e,[{key:"getPost",value:function(){return fetch("https://it-blog-posts.herokuapp.com/api/posts").then((function(e){return e.json()}))}},{key:"post",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"getPostById",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/people/".concat(e,"/posts")).then((function(e){return e.json()}))}},{key:"remove",value:function(e){return fetch("https://it-blog-posts.herokuapp.com/api/posts/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}}]),e}(),z=new function e(){Object(R.a)(this,e),this.people=new $,this.post=new q},K=z.people.getPeople,Q=z.post.getPost,V=z.people.login,X=z.people.registration,Z=z.people.byId,ee=z.post.post,te=z.post.getPostById,re=z.people.logOut,ne=z.post.remove,ae=function(e){return{type:"Fetch_Posts",payload:e}};function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=function(e){return{type:"ID",payload:e.id}};function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var me=a.a.memo((function(){var e=Object(n.useContext)(A),t=e.state,r=e.dispatch,o=t.blogers.blogers,c=t.spinner.loading;return Object(n.useEffect)((function(){K().then((function(e){r(function(e){return{type:"Fetch_Blogers",payload:e}}(e)),r({type:"Spinner"})}))}),[]),a.a.createElement("div",{className:"blogers"},a.a.createElement("h2",null,"Blogers"),c&&a.a.createElement(M.a,{animation:"grow",variant:"danger",className:"spiner"}),o.map((function(e){return a.a.createElement("div",{className:"item-bloger",key:e.id},a.a.createElement("img",{src:e.avatar,alt:"",className:"phot"}),a.a.createElement("p",null," ",e.name))})))})),fe=(r(54),a.a.memo((function(){var e=Object(n.useContext)(A),t=e.state,r=e.dispatch,o=t.posts.posts,c=t.spinner.loading;return Object(n.useEffect)((function(){Q().then((function(e){r(ae(e)),r({type:"Spinner"})}))}),[]),a.a.createElement("div",{className:"contentpost"},c&&a.a.createElement(M.a,{animation:"grow",variant:"danger",className:"spiner"}),o.map((function(e){return a.a.createElement("div",{className:"item",key:e.id},a.a.createElement("div",{className:"title"}," ",a.a.createElement("p",null,e.author),"  ",a.a.createElement("p",null,e.title),"   "),a.a.createElement("div",{className:"discription"}," ",e.description))})))}))),de=(r(55),a.a.memo((function(){return a.a.createElement("div",{className:"mainhome"},a.a.createElement(me,null),a.a.createElement(fe,null))}))),he=r(73),ge=r(71),Oe=(r(56),a.a.memo((function(e){var t=Object(n.useContext)(A),r=t.state,o=t.dispatch,c=r.loginPage.loginData,i=function(e){o(function(e,t){var r=e.target,n=r.name,a=r.value;return{type:"Login",payload:ce({},t,Object(s.a)({},n,a))}}(e,c))};return a.a.createElement("div",{className:"logForm"},a.a.createElement(he.a.Group,{controlId:"formBasicEmail"},a.a.createElement(he.a.Label,null,"Email address"),a.a.createElement(he.a.Control,{name:"email",type:"email",placeholder:"Enter email",onChange:i,value:r.email})),a.a.createElement(he.a.Group,{controlId:"formBasicPassword"},a.a.createElement(he.a.Label,null,"Password"),a.a.createElement(he.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:i,value:r.password})),a.a.createElement(he.a.Group,{controlId:"formBasicCheckbox"},a.a.createElement(he.a.Check,{type:"checkbox",label:"Remember me"})),a.a.createElement(ge.a,{variant:"primary",onClick:function(){V(c).then((function(e){return 200!==e.status?alert("Unable to log in"):e.json()})).then((function(t){var r={token:t.id,id:t.userId};Y.set("user",r),o(ie(t)),e.history.push("/home")})).catch((function(e){console.log(e)}))}},"Log In"))}))),ye=(r(60),r(74)),be=a.a.memo((function(){var e=Object(n.useContext)(A).state;return a.a.createElement(ye.a,{fill:!0,variant:"tabs"},a.a.createElement(ye.a.Item,null,a.a.createElement(ye.a.Link,{href:"#/home"},"Home")),e.userID.id?a.a.createElement(ye.a.Item,null,a.a.createElement(ye.a.Link,{href:"#/logout"}," Log Out")):a.a.createElement(ye.a.Item,null,a.a.createElement(ye.a.Link,{href:"#/login"}," Log In")),a.a.createElement(ye.a.Item,null,a.a.createElement(ye.a.Link,{href:"#/registration"},"Registration")),a.a.createElement(ye.a.Item,null,a.a.createElement(ye.a.Link,{href:"#/workspace"},"Post")))})),ve=(r(61),a.a.memo((function(e){var t=Object(n.useContext)(A),r=t.state,o=t.dispatch,c=r.registrationPage.registrationData,i=c.lastname,l=c.username,u=c.password,p=c.email,m=function(e){o(function(e,t){var r=e.target,n=r.name,a=r.value;return{type:"Registration",payload:se({},t,Object(s.a)({},n,a))}}(e,c))};return a.a.createElement("div",{className:"logForm"},a.a.createElement(he.a.Group,{controlId:"formBasicLastName"},a.a.createElement(he.a.Label,null,"Last Name"),a.a.createElement(he.a.Control,{name:"lastname",type:"email",placeholder:"Last Name",onChange:m,value:i})),a.a.createElement(he.a.Group,{controlId:"formBasicUserName"},a.a.createElement(he.a.Label,null,"User Name"),a.a.createElement(he.a.Control,{name:"username",type:"email",placeholder:"User Name",onChange:m,value:l})),a.a.createElement(he.a.Group,{controlId:"formBasicEmail"},a.a.createElement(he.a.Label,null,"Email address"),a.a.createElement(he.a.Control,{name:"email",type:"email",placeholder:"Enter email",onChange:m,value:p})),a.a.createElement(he.a.Group,{controlId:"formBasicPassword"},a.a.createElement(he.a.Label,null,"Password"),a.a.createElement(he.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:m,value:u})),a.a.createElement(ge.a,{variant:"primary",onClick:function(){X(c).then((function(t){if(200===t.status)return e.history.push("/login"),t.json()}))}},"Ok"))}))),Ee=(r(62),a.a.memo((function(e){var t=e.id,r=Object(n.useContext)(A),o=r.state,c=r.dispatch,i=o.posts.posts,l=o.spinner.loading;Object(n.useEffect)((function(){t?te(t).then((function(e){c(ae(e)),c({type:"Spinner"})})):Q().then((function(e){c(ae(e)),c({type:"Spinner"})}))}),[t]);return a.a.createElement("div",{className:"content"},l&&a.a.createElement(M.a,{animation:"grow",variant:"danger",className:"spiner"}),i.map((function(e){return a.a.createElement("div",{className:"item",key:e.id},a.a.createElement("div",{className:"title"}," ",a.a.createElement("p",null,e.author),"  ",a.a.createElement("p",null,e.title),t&&a.a.createElement(ge.a,{onClick:function(){return t=e.id,void ne(t);var t},className:"remove"}," \xd7"),"  "),a.a.createElement("div",{className:"discription"}," ",e.description))})))}))),je=r(72),we=function(e){var t=e.show,r=e.handleClose,o=e.name,c=Object(n.useContext)(A),i=c.state,l=c.dispatch,u=i.workspacePage.newPost,p=i.userID.id,m=u.description,f=u.title;u.author=o,u.personId=p;var d=function(e){l(function(e,t){var r=e.target,n=r.name,a=r.value;return{type:"New_Post",payload:pe({},t,Object(s.a)({},n,a))}}(e,u))};return a.a.createElement(je.a,{show:t,onHide:r},a.a.createElement(je.a.Header,{closeButton:!0},a.a.createElement(je.a.Title,null,"Create New Post")),a.a.createElement(je.a.Body,null,a.a.createElement(he.a.Group,{controlId:"formBasicTitle"},a.a.createElement(he.a.Control,{name:"title",type:"email",placeholder:"Title",onChange:d,value:f})),a.a.createElement(he.a.Group,{controlId:"formBasic.ControlTextarea"},a.a.createElement(he.a.Control,{name:"description",as:"textarea",rows:"3",placeholder:"Description",onChange:d,value:m}))),a.a.createElement(je.a.Footer,null,a.a.createElement(ge.a,{variant:"secondary",onClick:r},"Close"),a.a.createElement(ge.a,{variant:"primary",onClick:function(){r(),ee(u)}},"Save")))},Pe=a.a.memo((function(e){var t=e.handleShow,r=e.name,n=e.id;return a.a.createElement("div",{className:"main-header"},a.a.createElement("div",{className:"info"},a.a.createElement("div",{className:"photo"},a.a.createElement("img",{src:"",alt:""})),a.a.createElement("p",{className:"name"},r||"workspace")),a.a.createElement(ge.a,{variant:"dark",onClick:function(){n?t():alert("Not Logined")}},"New Post"))})),ke=a.a.memo((function(){var e=Object(n.useContext)(A),t=e.state,r=e.dispatch,o=t.workspacePage,c=o.name,i=o.modalShow,l=t.userID.id;return Object(n.useEffect)((function(){var e=Y.get("user");e&&Z(e.id).then((function(e){r(function(e){return{type:"GetName",payload:"".concat(e.lastname," ").concat(e.username)}}(e))}))}),[]),a.a.createElement("div",{className:"main"},a.a.createElement(Pe,{handleShow:function(){return r({type:"Modal_Show"})},name:c,id:l}),a.a.createElement(we,{show:i,handleClose:function(){return r({type:"Modal_Hide"})},name:c,id:l}),a.a.createElement(Ee,{id:l}))})),De=(r(63),function(){return a.a.createElement("div",{className:"footer"},a.a.createElement("p",null,"Armenian Code Academy"))}),Se=r(41),Ce=r(17),Ne=(r(64),r(65),function(e){var t=Object(n.useContext)(A).dispatch;return a.a.createElement("div",{className:"logout"},a.a.createElement("div",null,"Are You Shure"),a.a.createElement("div",{className:"btnloguot"},a.a.createElement(ge.a,{variant:"dark",onClick:function(){e.history.push("/home")}},"Cancel"),a.a.createElement(ge.a,{variant:"danger",className:"btnloguot",onClick:function(){var r=Y.get("user").token;re(r).then((function(){Y.remove("user"),t({type:"LOGOUT"}),e.history.push("/home")}))}},"ok")))});var Ie=function(e){var t=e.dispatch,r=e.state,o=r.userID.id;return Object(n.useEffect)((function(){var e=Y.get("user");e&&t(ie(e))}),[]),a.a.createElement(Se.a,null,a.a.createElement(A.Provider,{value:{state:r,dispatch:t}},a.a.createElement("div",{className:"App"},a.a.createElement(be,{id:o}),a.a.createElement(Ce.a,{path:"/home",render:function(){return a.a.createElement(de,null)}}),";",a.a.createElement(Ce.a,{path:"/login",render:function(e){return a.a.createElement(Oe,e)}}),a.a.createElement(Ce.a,{path:"/logout",render:function(e){return a.a.createElement(Ne,e)}}),a.a.createElement(Ce.a,{path:"/registration",render:function(e){return a.a.createElement(ve,e)}}),a.a.createElement(Ce.a,{path:"/workspace",render:function(){return a.a.createElement(ke,null)}}),a.a.createElement(Ce.a,{path:"/home",render:function(){return a.a.createElement(De,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Le=function(e){c.a.render(a.a.createElement(Ie,{state:e,dispatch:U.dispatch.bind(U)}),document.getElementById("root"))};Le(U.getState()),U.subscribe((function(){var e=U.getState();Le(e)})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.61078d93.chunk.js.map